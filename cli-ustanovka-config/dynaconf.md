# dynaconf

<figure><img src="../.gitbook/assets/1111.png" alt=""><figcaption></figcaption></figure>

## –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

* –í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é 12-—Ñ–∞–∫—Ç–æ—Ä–æ–≤](https://12factor.net/config)
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏** (–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–æ–≤–µ—Ä–∫–∞, –ø–∞—Ä—Å–∏–Ω–≥, —à–∞–±–ª–æ–Ω—ã)
* –ó–∞—â–∏—Ç–∞ **–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** (–ø–∞—Ä–æ–ª–∏/—Ç–æ–∫–µ–Ω—ã)
* –ù–µ—Å–∫–æ–ª—å–∫–æ **—Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤** (`toml|yaml|json|ini|py`), –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏.
* –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã** –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–≤–∫–ª—é—á–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫—É **dotenv**).
* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ä–µ–¥** `[default, development, testing, production]` (—Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ–º–∞—è –º—É–ª—å—Ç–∏-–ø—Ä–æ—Ñ–∏–ª—è–º–∏)
* –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **Hashicorp Vault** –∏ **Redis** –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —Å–µ–∫—Ä–µ—Ç–æ–≤.
* –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ **Django** –∏ **Flask**.
* **CLI** –¥–ª—è –æ–±—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ **init**, **list**, **write**, **validate**, **export**.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ [PyPI](https://pypi.org/project/dynaconf)

```python
pip install dynaconf
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Dynaconf –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ Python

–í –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `dynaconf init`.

```bash
cd path/to/your/project/
dynaconf init -f toml
```

–í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

```
‚öôÔ∏è  Configuring your Dynaconf environment
------------------------------------------
üêç The file `config.py` was generated.

üéõÔ∏è  settings.toml created to hold your settings.

üîë .secrets.toml created to hold your secrets.

üôà the .secrets.* is also included in `.gitignore`
beware to not push your secrets to a public repo.

üéâ Dynaconf is configured! read more on https://dynaconf.com
```

{% hint style="info" %}
–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å `toml|yaml|json|ini|py` –≤ `dynaconf init -f <filename>`, **toml** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
{% endhint %}

–ö–æ–º–∞–Ω–¥–∞ `dynaconf init` —Å–æ–∑–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã

```
.
‚îú‚îÄ‚îÄ config.py       # –ì–¥–µ –≤—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ —Å–≤–æ–π –æ–±—ä–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ .secrets.toml   # –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - –ø–∞—Ä–æ–ª–∏ –∏ —Ç–æ–∫–µ–Ω—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ settings.toml   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
```

#### your\_program.py

–í —Å–≤–æ–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–¥–µ –≤—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ–±—ä–µ–∫—Ç **settings**, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ **config.py**.

```python
from config import settings

assert settings.key == "value"
assert settings.number == 789
assert settings.a_dict.nested.other_level == "nested value"
assert settings['a_boolean'] is False
assert settings.get("DONTEXIST", default=1) == 1
```

#### config.py

–í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ **Dynaconf**.

```python
from dynaconf import Dynaconf

settings = Dynaconf(
    settings_files=['settings.toml', '.secrets.toml'],
)
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø–∏—Å–∞–Ω—ã –≤ <mark style="color:purple;">Dynaconf Configuration</mark>.

#### settings.toml

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ (–∏–ª–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö)

```toml
key = "value"
a_boolean = false
number = 1234
a_float = 56.8
a_list = [1, 2, 3, 4]
a_dict = {hello="world"}

[a_dict.nested]
other_level = "nested value"
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (<mark style="color:purple;">Settings files</mark>)

#### .secrets.toml

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ `.secrets.toml`.

```toml
password = "s3cr3t"
token = "dfgrfg5d4g56ds4gsdf5g74984we5345-"
message = "This file doesn't go to your pub repo"
```

{% hint style="warning" %}
–ö–æ–º–∞–Ω–¥–∞ `dynaconf init` –ø–æ–º–µ—â–∞–µ—Ç `.secrets.*` –≤ –≤–∞—à `.gitignore`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –µ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≤ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö, –Ω–æ –≤—ã –Ω–µ—Å–µ—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ, —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è —Å–µ—Ä–≤–∏—Å **Hashicorp Vault** –¥–ª—è –ø–∞—Ä–æ–ª–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤.
{% endhint %}

```gitignore
# –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
.secrets.*
```

–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ <mark style="color:purple;">—Å–µ–∫—Ä–µ—Ç–∞—Ö</mark>

#### env vars

**–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º. (—Ñ–∞–π–ª—ã `.env` —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è)

```bash
export DYNACONF_NUMBER=789
export DYNACONF_FOO=false
export DYNACONF_DATA__CAN__BE__NESTED=value
export DYNACONF_FORMATTED_KEY="@format {this.FOO}/BAR"
export DYNACONF_TEMPLATED_KEY="@jinja {{ env['HOME'] | abspath }}"
```

{% hint style="info" %}
–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã **dynaconf init**, –∏ –æ–Ω–∞ –¥–∞–µ—Ç –ª—é–±–æ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ, –≤–º–µ—Å—Ç–æ **config.py** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –≤–∞—à–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–º –ø—É—Ç–∏ python)
{% endhint %}

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Flask

#### app.py

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ **Flask** –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **FlaskDynaconf** –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –µ–≥–æ –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **Flask**.

```python
from flask import Flask
from dynaconf import FlaskDynaconf

app = Flask(__name__)

FlaskDynaconf(app, settings_files=["settings.toml"])
```

–í –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ **Flask** –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ `app.config`, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –∑–∞–º–µ–Ω–µ–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ **dynaconf**.

```python
@app.route("/a_view)
def a_view():
    app.config.NAME == "BRUNO"
    app.config['DEBUG'] is True
    app.config.SQLALCHEMY_DB_URI == "sqlite://data.db"
```

#### settings.toml

**–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ, –∏—Å–ø–æ–ª—å–∑—É—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ä–µ–¥—É.

```toml
[default]
key = "value"
a_boolean = false
number = 1234

[development]
key = "development value"
SQLALCHEMY_DB_URI = "sqlite://data.db"

[production]
key = "production value"
SQLALCHEMY_DB_URI = "postgresql://..."
```

{% hint style="info" %}
–í **Flask** —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —Å–ª–æ—è–º–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ä–µ–¥–∞—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –∏—Ö, –ø–µ—Ä–µ–¥–∞–≤ `environments=False` –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **FlaskDynaconf**.
{% endhint %}

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (<mark style="color:purple;">Settings files</mark>)

#### .secrets.toml

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ `.secrets.toml`.

```toml
[development]
password = "s3cr3t"
token = "dfgrfg5d4g56ds4gsdf5g74984we5345-"
message = "This file doesn't go to your pub repo"
```

{% hint style="warning" %}
–ø–æ–º–µ—Å—Ç–∏—Ç–µ `.secrets.*` –≤ —Å–≤–æ–π `.gitignore`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –µ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≤ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö, –Ω–æ –≤—ã –Ω–µ—Å–µ—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ, —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ª—É–∂–±—ã **Hashicorp Vault** –¥–ª—è –ø–∞—Ä–æ–ª—å –∏ —Ç–æ–∫–µ–Ω—ã.
{% endhint %}

```gitignore
# –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
.secrets.*
```

–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ <mark style="color:purple;">—Å–µ–∫—Ä–µ—Ç–∞—Ö</mark>

#### env vars

**–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ª—é–±–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º **FLASK\_**. (—Ñ–∞–π–ª—ã `.env` —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è)

```bash
export FLASK_ENV=production
export FLASK_NUMBER=789
export FLASK_FOO=false
```

Dynaconf —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç **–∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∞—à–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Flask**, –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–º. –≤ <mark style="color:purple;">—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ Flask</mark>.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Django

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ **DJANGO\_SETTINGS\_MODULE**:

```bash
export DJANGO_SETTINGS_MODULE=yourproject.settings
```

–í —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–∞—à `manage.py`, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `dynaconf init`.

```bash
dynaconf init -f yaml
```

–ó–∞—Ç–µ–º —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

```
Django app detected
‚öôÔ∏è  Configuring your Dynaconf environment
------------------------------------------
üéõÔ∏è  settings.yaml created to hold your settings.

üîë .secrets.yaml created to hold your secrets.

üôà the .secrets.yaml is also included in `.gitignore`
beware of not pushing your secrets to a public repo
or use dynaconf builtin support for Vault Servers.

‚Åâ  path/to/yourproject/settings.py is found do you want to add dynaconf? [y/N]:
```

–û—Ç–≤–µ—Ç **y**

```
üé†  Now your Django settings are managed by Dynaconf
üéâ  Dynaconf is configured! read more at https://dynaconf.com
```

{% hint style="info" %}
–í Django —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º —Ñ–∞–π–ª–∞ —è–≤–ª—è–µ—Ç—Å—è **yaml**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –ª–µ–≥—á–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –æ–¥–Ω–∞–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **toml**, **json**, **ini** –∏–ª–∏ –¥–∞–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.py`.
{% endhint %}

#### appname/views.py

–í –≤–∞—à–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö, –º–æ–¥–µ–ª—è—Ö –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö Django —Ç–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `django.conf.settings` –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –∑–∞–º–µ–Ω–µ–Ω –æ–±—ä–µ–∫—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ **Dynaconf**.

```python
from django.conf import settings

def index(request):
    assert settings.DEBUG is True
    assert settings.NAME == "Bruno"
    assert settings.DATABASES.default.name == "db"
    assert settings.get("NONEXISTENT", 2) == 2
```

#### settings.yaml

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ, –∏—Å–ø–æ–ª—å–∑—É—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ä–µ–¥—É. –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–ø–∫–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–∞—à `manage.py`.

```yaml
default:
    ALLOWED_HOSTS:
        - '*'
    INSTALLED_APPS:
        - django.contrib.admin
        - django.contrib.auth
        - django.contrib.contenttypes
        - django.contrib.sessions
        - django.contrib.messages
        - django.contrib.staticfiles
production:
    ALLOWED_HOSTS:
        - 'server.prod.com'
```

{% hint style="info" %}
–§–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ Django –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —Å–ª–æ—è–º–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ä–µ–¥–∞—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –∏—Ö, –ø–µ—Ä–µ–¥–∞–≤ `environments=False` –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **DjangoDynaconf**.
{% endhint %}

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (<mark style="color:purple;">Settings files</mark>)

#### .secrets.toml

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ `.secrets.toml`.

```yaml
development:
    SECRET_KEY: 43grng9398534nfkjer
production:
    SECRET_KEY: vfkjndkjg098gdf90gudfsg
```

{% hint style="warning" %}
–ø–æ–º–µ—Å—Ç–∏—Ç–µ `.secrets.*` –≤ —Å–≤–æ–π `.gitignore`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –µ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≤ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö, –Ω–æ –≤—ã –Ω–µ—Å–µ—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ, —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ª—É–∂–±—ã **Hashicorp Vault** –¥–ª—è –ø–∞—Ä–æ–ª—å –∏ —Ç–æ–∫–µ–Ω—ã.
{% endhint %}

```gitignore
# –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
.secrets.*
```

–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ <mark style="color:purple;">—Å–µ–∫—Ä–µ—Ç–∞—Ö</mark>

#### env vars

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ª—é–±–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º **DJANGO\_**. (—Ñ–∞–π–ª—ã `.env` —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è)

```bash
export DJANGO_ENV=production
export DJANGO_NUMBER=789
export DJANGO_FOO=false
export DJANGO_ALLOWED_HOSTS="['*']"
export DJANGO_DEBUG=false
export DJANGO_DATABASES__default__NAME=othername
```

#### projectname/settings.py

–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ **dynaconf** –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –≤–∞—à–µ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `settings.py`, –∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–º.

```python
# HERE STARTS DYNACONF EXTENSION LOAD
import dynaconf  # noqa
settings = dynaconf.DjangoDynaconf(__name__)  # noqa
# HERE ENDS DYNACONF EXTENSION LOAD (No more code below this line)
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ <mark style="color:purple;">—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ Django</mark>

{% hint style="success" %}
**–°–æ–≤–µ—Ç**

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ **dynaconf** –µ—Å—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ **list** | **export**, **init**, **write** –∏ **validate**. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ <mark style="color:purple;">CLI</mark>
{% endhint %}

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
